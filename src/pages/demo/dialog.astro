---
import Layout from '../../layouts/Layout.astro';
import { DialogRoot, DialogHeader, DialogTitle, DialogDescription, DialogBody, DialogFooter, DialogSeparator } from '../../components/Dialog/index';
import Button from '../../components/Button.astro';
---

<Layout title="Dialog Demo" noindex={true}>
  <div class="demo-container">
    <h1>Dialog Component</h1>
    <p class="subtitle">A window overlaid on the primary window, rendering the content underneath inert.</p>

    <div class="demo-section">
      <h2>Sizes</h2>
      <div class="button-row">
        <button class="demo-btn" onclick="openDialog('dialog-sm')">Small (400px)</button>
        <button class="demo-btn" onclick="openDialog('dialog-md')">Medium (500px)</button>
        <button class="demo-btn" onclick="openDialog('dialog-lg')">Large (640px)</button>
      </div>
    </div>

    <div class="demo-section">
      <h2>Close Button</h2>
      <p class="section-desc">Control the default close button visibility.</p>
      <div class="button-row">
        <button class="demo-btn" onclick="openDialog('dialog-with-close')">With Close Button</button>
        <button class="demo-btn" onclick="openDialog('dialog-no-close')">No Close Button</button>
        <button class="demo-btn" onclick="openDialog('dialog-custom-close')">Custom Close Button</button>
      </div>
    </div>

    <div class="demo-section">
      <h2>Scrollable Content</h2>
      <p class="section-desc">Long content can scroll while the header stays in view.</p>
      <div class="button-row">
        <button class="demo-btn" onclick="openDialog('dialog-scroll')">Scrollable Content</button>
      </div>
    </div>

    <div class="demo-section">
      <h2>Sticky Footer</h2>
      <p class="section-desc">Keep actions visible while the content scrolls.</p>
      <div class="button-row">
        <button class="demo-btn" onclick="openDialog('dialog-sticky')">Sticky Footer</button>
      </div>
    </div>

    <div class="demo-section">
      <h2>Common Patterns</h2>
      <div class="button-row">
        <button class="demo-btn" onclick="openDialog('dialog-confirm')">Confirmation</button>
        <button class="demo-btn" onclick="openDialog('dialog-form')">Form</button>
        <button class="demo-btn" onclick="openDialog('dialog-alert')">Alert</button>
      </div>
    </div>
  </div>

  <!-- Size: Small -->
  <DialogRoot id="dialog-sm" size="sm">
    <DialogHeader>
      <DialogTitle>Small Dialog</DialogTitle>
      <DialogDescription>This is a small dialog with a max-width of 400px.</DialogDescription>
    </DialogHeader>
    <DialogSeparator />
    <DialogFooter>
      <Button variant="secondary" onclick="closeDialog('dialog-sm')">Cancel</Button>
      <Button variant="primary" onclick="closeDialog('dialog-sm')">Confirm</Button>
    </DialogFooter>
  </DialogRoot>

  <!-- Size: Medium -->
  <DialogRoot id="dialog-md" size="md">
    <DialogHeader>
      <DialogTitle>Medium Dialog</DialogTitle>
      <DialogDescription>This is a medium dialog with a max-width of 500px. Good for forms and detailed content.</DialogDescription>
    </DialogHeader>
    <DialogBody>
      <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>
    </DialogBody>
    <DialogSeparator />
    <DialogFooter>
      <Button variant="secondary" onclick="closeDialog('dialog-md')">Cancel</Button>
      <Button variant="primary" onclick="closeDialog('dialog-md')">Save Changes</Button>
    </DialogFooter>
  </DialogRoot>

  <!-- Size: Large -->
  <DialogRoot id="dialog-lg" size="lg">
    <DialogHeader>
      <DialogTitle>Large Dialog</DialogTitle>
      <DialogDescription>This is a large dialog with a max-width of 640px.</DialogDescription>
    </DialogHeader>
    <DialogBody>
      <div class="demo-list">
        <div class="demo-list-item">Item 1 - Some content here</div>
        <div class="demo-list-item">Item 2 - More content</div>
        <div class="demo-list-item">Item 3 - Even more content</div>
      </div>
    </DialogBody>
    <DialogSeparator />
    <DialogFooter>
      <Button variant="secondary" onclick="closeDialog('dialog-lg')">Close</Button>
      <Button variant="primary" onclick="closeDialog('dialog-lg')">Done</Button>
    </DialogFooter>
  </DialogRoot>

  <!-- With Close Button (default) -->
  <DialogRoot id="dialog-with-close" size="sm">
    <DialogHeader>
      <DialogTitle>With Close Button</DialogTitle>
      <DialogDescription>Click the X button in the corner, press Escape, or click the backdrop to close.</DialogDescription>
    </DialogHeader>
    <DialogSeparator />
    <DialogFooter>
      <Button variant="primary" onclick="closeDialog('dialog-with-close')">Got it</Button>
    </DialogFooter>
  </DialogRoot>

  <!-- No Close Button -->
  <DialogRoot id="dialog-no-close" size="sm" showCloseButton={false}>
    <DialogHeader>
      <DialogTitle>No Close Button</DialogTitle>
      <DialogDescription>Use showCloseButton={false} to hide the close button. Users must use the action buttons.</DialogDescription>
    </DialogHeader>
    <DialogFooter align="center">
      <Button variant="secondary" onclick="closeDialog('dialog-no-close')">Cancel</Button>
      <Button variant="primary" onclick="closeDialog('dialog-no-close')">Continue</Button>
    </DialogFooter>
  </DialogRoot>

  <!-- Custom Close Button -->
  <DialogRoot id="dialog-custom-close" size="sm" showCloseButton={false}>
    <DialogHeader>
      <DialogTitle>Custom Close Button</DialogTitle>
      <DialogDescription>Replace the default close control with your own button in the footer.</DialogDescription>
    </DialogHeader>
    <DialogSeparator />
    <DialogFooter>
      <Button variant="secondary" onclick="closeDialog('dialog-custom-close')">
        Close Dialog
      </Button>
    </DialogFooter>
  </DialogRoot>

  <!-- Scrollable Content -->
  <DialogRoot id="dialog-scroll" size="md">
    <DialogHeader>
      <DialogTitle>Terms of Service</DialogTitle>
      <DialogDescription>Please read the following terms carefully.</DialogDescription>
    </DialogHeader>
    <DialogBody class="dialog-body--scroll">
      <p><strong>1. Acceptance of Terms</strong></p>
      <p>By accessing and using this service, you accept and agree to be bound by the terms and provision of this agreement.</p>

      <p><strong>2. Use License</strong></p>
      <p>Permission is granted to temporarily download one copy of the materials (information or software) on this website for personal, non-commercial transitory viewing only.</p>

      <p><strong>3. Disclaimer</strong></p>
      <p>The materials on this website are provided on an 'as is' basis. We make no warranties, expressed or implied, and hereby disclaim and negate all other warranties including, without limitation, implied warranties or conditions of merchantability, fitness for a particular purpose, or non-infringement of intellectual property or other violation of rights.</p>

      <p><strong>4. Limitations</strong></p>
      <p>In no event shall we or our suppliers be liable for any damages (including, without limitation, damages for loss of data or profit, or due to business interruption) arising out of the use or inability to use the materials on this website.</p>

      <p><strong>5. Accuracy of Materials</strong></p>
      <p>The materials appearing on this website could include technical, typographical, or photographic errors. We do not warrant that any of the materials on its website are accurate, complete or current.</p>

      <p><strong>6. Links</strong></p>
      <p>We have not reviewed all of the sites linked to this website and are not responsible for the contents of any such linked site. The inclusion of any link does not imply endorsement by us of the site.</p>

      <p><strong>7. Modifications</strong></p>
      <p>We may revise these terms of service for this website at any time without notice. By using this website you are agreeing to be bound by the then current version of these terms of service.</p>
    </DialogBody>
    <DialogSeparator />
    <DialogFooter>
      <Button variant="secondary" onclick="closeDialog('dialog-scroll')">Decline</Button>
      <Button variant="primary" onclick="closeDialog('dialog-scroll')">Accept</Button>
    </DialogFooter>
  </DialogRoot>

  <!-- Sticky Footer -->
  <DialogRoot id="dialog-sticky" size="md">
    <DialogHeader>
      <DialogTitle>Sticky Footer Example</DialogTitle>
      <DialogDescription>The footer stays visible as you scroll through the content.</DialogDescription>
    </DialogHeader>
    <DialogBody class="dialog-body--scroll">
      <p><strong>Section 1</strong></p>
      <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam euismod, nisl eget aliquam ultricies, nunc nisl aliquet nunc, vitae aliquam nisl nunc vitae nisl.</p>

      <p><strong>Section 2</strong></p>
      <p>Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris.</p>

      <p><strong>Section 3</strong></p>
      <p>Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident.</p>

      <p><strong>Section 4</strong></p>
      <p>Sunt in culpa qui officia deserunt mollit anim id est laborum. Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>

      <p><strong>Section 5</strong></p>
      <p>Nullam euismod, nisl eget aliquam ultricies, nunc nisl aliquet nunc, vitae aliquam nisl nunc vitae nisl. Sed do eiusmod tempor incididunt.</p>
    </DialogBody>
    <DialogFooter class="dialog-footer--sticky">
      <Button variant="secondary" onclick="closeDialog('dialog-sticky')">Cancel</Button>
      <Button variant="primary" onclick="closeDialog('dialog-sticky')">Save Changes</Button>
    </DialogFooter>
  </DialogRoot>

  <!-- Confirmation -->
  <DialogRoot id="dialog-confirm" size="sm" showCloseButton={false}>
    <DialogHeader>
      <DialogTitle>Delete this item?</DialogTitle>
      <DialogDescription>This action cannot be undone. This will permanently delete the item from your collection.</DialogDescription>
    </DialogHeader>
    <DialogFooter align="center">
      <Button variant="secondary" onclick="closeDialog('dialog-confirm')">Cancel</Button>
      <Button variant="danger" onclick="closeDialog('dialog-confirm')">Delete</Button>
    </DialogFooter>
  </DialogRoot>

  <!-- Form -->
  <DialogRoot id="dialog-form" size="md">
    <DialogHeader>
      <DialogTitle>Edit Profile</DialogTitle>
      <DialogDescription>Make changes to your profile here.</DialogDescription>
    </DialogHeader>
    <DialogBody>
      <form class="demo-form" onsubmit="event.preventDefault(); closeDialog('dialog-form');">
        <div class="form-group">
          <label for="name">Name</label>
          <input type="text" id="name" placeholder="Enter your name" />
        </div>
        <div class="form-group">
          <label for="email">Email</label>
          <input type="email" id="email" placeholder="Enter your email" />
        </div>
      </form>
    </DialogBody>
    <DialogSeparator />
    <DialogFooter>
      <Button variant="secondary" onclick="closeDialog('dialog-form')">Cancel</Button>
      <Button variant="primary" type="submit" form="dialog-form">Save</Button>
    </DialogFooter>
  </DialogRoot>

  <!-- Alert -->
  <DialogRoot id="dialog-alert" size="sm" showCloseButton={false}>
    <DialogHeader>
      <DialogTitle>Session Expired</DialogTitle>
      <DialogDescription>Your session has expired. Please log in again to continue.</DialogDescription>
    </DialogHeader>
    <DialogFooter align="center">
      <Button variant="primary" onclick="closeDialog('dialog-alert')">Log In</Button>
    </DialogFooter>
  </DialogRoot>

</Layout>

<style>
  .demo-container {
    max-width: 600px;
    margin: 0 auto;
    padding: 40px 20px;
  }

  h1 {
    font-size: 28px;
    font-weight: 600;
    color: var(--text-primary);
    margin-bottom: 8px;
  }

  .subtitle {
    font-size: 14px;
    color: var(--text-secondary);
    margin-bottom: 32px;
    line-height: 1.5;
  }

  .demo-section {
    margin-bottom: 32px;
  }

  .demo-section h2 {
    font-size: 16px;
    font-weight: 600;
    color: var(--text-primary);
    margin-bottom: 8px;
  }

  .section-desc {
    font-size: 13px;
    color: var(--text-tertiary);
    margin-bottom: 12px;
  }

  .button-row {
    display: flex;
    gap: 12px;
    flex-wrap: wrap;
  }

  .demo-btn {
    padding: 10px 16px;
    font-size: 14px;
    font-weight: 500;
    font-family: inherit;
    background: var(--bg-movie);
    color: var(--text-primary);
    border: 1px solid var(--bg-movie-hover);
    border-radius: 8px;
    cursor: pointer;
    transition: background-color 0.15s, transform 0.1s;
  }

  .demo-btn:hover {
    background: var(--bg-movie-hover);
  }

  .demo-btn:active {
    transform: scale(0.97);
  }

  .demo-list {
    display: flex;
    flex-direction: column;
    gap: 8px;
  }

  .demo-list-item {
    padding: 12px;
    background: var(--bg-movie);
    border-radius: 6px;
    font-size: 14px;
    color: var(--text-secondary);
  }

  .demo-form {
    display: flex;
    flex-direction: column;
    gap: 16px;
  }

  .form-group {
    display: flex;
    flex-direction: column;
    gap: 6px;
  }

  .form-group label {
    font-size: 14px;
    font-weight: 500;
    color: var(--text-primary);
  }

  .form-group input {
    padding: 10px 12px;
    font-size: 14px;
    font-family: inherit;
    background: var(--bg-body);
    color: var(--text-primary);
    border: 1px solid var(--bg-movie-hover);
    border-radius: 6px;
    outline: none;
    transition: border-color 0.15s;
  }

  .form-group input:focus {
    border-color: var(--accent);
  }

  .form-group input::placeholder {
    color: var(--text-tertiary);
  }

</style>
